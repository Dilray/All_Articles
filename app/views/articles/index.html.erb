
<%#= image_tag("books.jpg") %>
<style>

    body {
        background-color: #eaceb6;
        background-size: cover;
        background-position: center;
    }
    /* Заголовок */
    .header-title {
        color: orange;
        font-family: Arial, sans-serif;
        text-align: center;
        margin-top: 20px;
    }

    /* Навигационная панель */
    .navbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: #50463d;
        padding: 10px 20px;
        border-radius: 10px;
        margin-bottom: 20px;
    }

    .navbar-links {
        display: flex;
        gap: 20px;
    }

    .navbar-links a {
        color: white;
        text-decoration: none;
        font-family: Arial, sans-serif;
        font-weight: bold;
        padding: 5px 10px;
        border-radius: 5px;
        transition: background-color 0.3s;
    }

    .navbar-links a:hover {
        background-color: #0056b3;  /* цвет при наведении */
    }

    .navbar-links a.login-button {
        color: white;
        padding: 5px 10px; /* отступы для кнопки */
        border-radius: 5px;
        text-decoration: none;
        font-family: Arial, sans-serif;
        font-weight: bold;
        transition: background-color 0.3s;
    }

    .navbar-links a.login-button:hover {
        background-color: #0056b3; /* цвет при наведении */
    }

    /* Стили для основного контейнера статей */
    /*.articles {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f5f5f5;
        border-radius: 10px;
    }*/

    /* Стили для статей */
    /*.article-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 10px;
        border-bottom: 1px solid #ddd;
    }*/

    /*.article-title,
    .article-body,
    .article-actions {
        margin: 0 10px;
        flex: 1;
        text-align: center;
    }

    .article-actions {
        display: flex;
        gap: 10px;
        justify-content: center;
    }*/

    .btn {
        padding: 10px 15px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        transition: background-color 0.3s, transform 0.2s;
    }

    .btn-show {
        background-color: #8b4513; /* Коричневый */
        color: white;
    }

    .btn-edit {
        background-color: #8b4513; /* Коричневый */
        color: white;
    }

    .btn-delete {
        background-color: #f8173e; /* Красный */
        color: white;
    }

    .btn:hover {
        transform: scale(1.05);
    }

    .btn-show:hover {
        background-color: #45a049; /* Темно-зеленый при наведении */
    }

    .btn-edit:hover {
        background-color: #1e88e5; /* Темно-синий при наведении */
    }

    .btn-delete:hover {
        background-color: #d32f2f; /* Темно-красный при наведении */
    }

    td {
        padding: 10px; /* Отступы внутри ячеек */
        text-align: left; /* Выравнивание текста по левому краю */
    }

    .article-title {
        font-weight: bold; /* Жирный шрифт для заголовка статьи */
        font-size: 18px; /* Размер шрифта для заголовка */
        color: #333; /* Цвет текста */
    }

    .article-author {
        font-style: italic; /* Курсив для имени автора */
        color: #555; /* Цвет текста для автора */
    }

    /* Добавление эффекта при наведении на строку таблицы */
    tr:hover td {
        background-color: #f0f0f0; /* Цвет фона при наведении */
    }

</style>

<div class="navbar">
  <h1 class="header-title">AllArticles</h1>
  <div class="navbar-links">
    <a href="#">Поиск</a>
    <a href="#">Новые статьи</a>
    <% if current_user %>
      <%= link_to "Мои статьи", my_articles_articles_path %>
    <% else %>
      <a href="<%= new_user_session_path %>">Свои статьи</a>
    <% end %>
    <% if current_user %>
      <h2><%= "Привет, #{current_user.full_name}!" %></h2>
      <%#= image_tag(current_user.avatar_url) %>
      <%= link_to "Изменить аккаунт", edit_user_registration_path %>
      <%= button_to "Выйти", destroy_user_session_path, data: {turbo: "false"}, method: :delete %>
    <% else %>
      <%= link_to "Войти", new_user_session_path %>
      <%= link_to "Создать аккаунт", new_user_registration_path %>
    <% end %>
  </div>
</div>

<!-- Основной контейнер для статей -->
<div class="articles">
  <div class="article-header">
    <!--<div class="article-title">Title</div>
    <div class="article-body">Body</div>
    <div class="article-actions"> --></div>
  </div>

<!--<div class="article-list">
     <%#= @articles.each do |article| %>
      <div class="article-item">
        <div class="article-title"><%#= article.title %></div>
        <div class="article-body"><%#= article.body %></div>
        <div class="article-actions">
          <form action="articles/show" method="get" style="display:inline;">
            <button type="submit">Show</button>
          </form>
          <form action="articles/edit" method="get" style="display:inline;">
            <button type="submit">Edit</button>
          </form>
          <%#= link_to 'Destroy', article, method: :delete, data: { confirm: 'Are you sure?' }, class: 'destroy-button' %>
        </div>
      </div>
    <%# end %>
  </div>
</div> -->

<%= button_to 'Новая статья', new_article_path, method: :get, class: 'btn btn-primary' %>

<table>
  <thead>
  <tr>
    <th>Название</th>
    <th>Автор</th>
<!--    <th>Content</th>-->
    <th colspan="2"></th>
  </tr>
  </thead>

  <tbody>
  <% @articles.each do |article| %>
    <tr>
      <td class="article-title"><%= article.title %></td>
      <td class="article-author"><%= article.author %></td>
<!--      <td><%#= article.content %></td>-->
      <% if current_user %>
      <td><%= button_to 'Показать', article_path(article), method: :get, class: 'btn btn-show' %></td>
        <% if current_user.full_name == article.author %>
      <td><%= button_to 'Изменить', edit_article_path(article), method: :get, class: 'btn btn-edit' %></td>
          <td><%= button_to 'Удалить', article_path(article), method: :delete, data: { confirm: 'Вы уверены?' }, class: 'btn btn-delete' %></td> <!-- "вы уверены?" пока не работает хз почему -->
          <% end %>
      <% else %>
        <td><%= button_to 'Показать', article_path(article), method: :get, class: 'btn btn-show' %></td>
      <% end %>
    </tr>
  <% end %>
  </tbody>
</table>